(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{581:function(t,i,a){"use strict";a.r(i);var p=a(17),g=Object(p.a)({},(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"操作系统下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作系统下"}},[t._v("#")]),t._v(" 操作系统下")]),t._v(" "),a("h2",{attrs:{id:"_1、初识文件管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、初识文件管理"}},[t._v("#")]),t._v(" 1、初识文件管理")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("文件内部的数据组织形式")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521220755154.png",alt:"image-20220521220755154"}})])]),t._v(" "),a("li",[a("p",[t._v("文件组织形式")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521220941143.png",alt:"image-20220521220941143"}})])]),t._v(" "),a("li",[a("p",[t._v("操作系统向上提供的功能")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521221245106.png",alt:"image-20220521221245106"}})]),t._v(" "),a("p",[t._v("可以使用几个基本操作完成更加复杂的操作，比如：复制文件：先创建一个新的空文件夹，再把源文件读入内存，再将内存中的数据写入到新文件中")])]),t._v(" "),a("li",[a("p",[t._v("文件如何存放在外存？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220521221810990.png",alt:"image-20220521221810990"}})])]),t._v(" "),a("li",[a("p",[t._v("其他需要操作系统实现的文件管理功能")]),t._v(" "),a("p",[t._v("文件共享：使多个用户可以共享使用一个文件")]),t._v(" "),a("p",[t._v("文件保护：如何保证不同的用户对文件由不同的操作权限")])])]),t._v(" "),a("h2",{attrs:{id:"_2、文件的逻辑结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、文件的逻辑结构"}},[t._v("#")]),t._v(" 2、文件的逻辑结构")]),t._v(" "),a("p",[t._v("文件逻辑结构：指在用户看来，文件内部的数据应该是如何组织起来的")]),t._v(" "),a("p",[t._v("文件的物理结构：在操作系统看来，文件的数据是如何存放在外存中的")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522125526046.png",alt:"image-20220522125526046"}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("无结构文件：文件内部的数据就是一系列二进制流或字符流组成。又称“"),a("strong",[t._v("流式文件")]),t._v("”。比如：.txt文件")])]),t._v(" "),a("li",[a("p",[t._v("有结构文件：由一组相似的记录组成，又称为“"),a("strong",[t._v("记录式文件")]),t._v("”。每条记录又由若干个数据项组成。如")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522125936141.png",alt:"image-20220522125936141"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("根据各条记录的长度(占用的存储空间)是否相等，又可以分为"),a("strong",[t._v("定长记录和可变长记录")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("定长记录")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522131645588.png",alt:"image-20220522131645588"}})])]),t._v(" "),a("li",[a("p",[t._v("可变长记录")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522131805969.png",alt:"image-20220522131805969"}})])])])])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("顺序文件")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("文件中的记录一个接一个的顺序排列(逻辑上)，记录"),a("strong",[t._v("可以是定长的或可变长的")]),t._v("。各个记录在物理上可以"),a("strong",[t._v("顺序存储或链式存储")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522132423543.png",alt:"image-20220522132423543"}})])]),t._v(" "),a("li",[a("p",[t._v("已经知道文件的起始地址，能否找到第i个记录对应的地址即能否实现随机存储，能否根据关键字实现随机查找？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522134405761.png",alt:"image-20220522134405761"}})])])])]),t._v(" "),a("li",[a("p",[t._v("索引文件")]),t._v(" "),a("p",[t._v("解决的问题：对于可变长记录文件，要找到第i个记录，必须先顺序查找第i - 1个记录。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522135220091.png",alt:"image-20220522135220091"}})])]),t._v(" "),a("li",[a("p",[t._v("索引顺序文件")]),t._v(" "),a("p",[t._v("解决问题：每个记录对应一个索引表项，因此索引表可能会很大")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522141420657.png",alt:"image-20220522141420657"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("文件检索效率")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142220989.png",alt:"image-20220522142220989"}})])]),t._v(" "),a("li",[a("p",[t._v("多级索引顺序文件")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142404913.png",alt:"image-20220522142404913"}})])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522142638847.png",alt:"image-20220522142638847"}})]),t._v(" "),a("h2",{attrs:{id:"_3、文件目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、文件目录"}},[t._v("#")]),t._v(" 3、文件目录")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522143959739.png",alt:"image-20220522143959739"}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("文件控制块")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522144708324.png",alt:"image-20220522144708324"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522144900273.png",alt:"image-20220522144900273"}})]),t._v(" "),a("p",[t._v("需要对目录进行哪些操作？")]),t._v(" "),a("p",[a("strong",[t._v("搜索")]),t._v("：当用户需要使用一个文件的时候，系统要根据文件名搜索目录，找到该文件对应的目录项")]),t._v(" "),a("p",[a("strong",[t._v("创建文件")]),t._v("：创建一个新文件时，需要在其所属的目录中增加一个目录项")]),t._v(" "),a("p",[a("strong",[t._v("删除文件")]),t._v("：当删除一个文件时，需要在目录中删除相应的目录项")]),t._v(" "),a("p",[a("strong",[t._v("显示目录")]),t._v("：用户可以请求显示目录的内容，如显示该目录中的所有文件及相应的属性")]),t._v(" "),a("p",[a("strong",[t._v("修改目录")]),t._v("：某些文件属性保存在目录中，因此这些属性变化时需要修改相应的目录项")])]),t._v(" "),a("li",[a("p",[t._v("目录结构----单级目录结构")]),t._v(" "),a("p",[t._v("整个系统只建立一张目录表，每个文件占一个目录项")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522202312578.png",alt:"image-20220522202312578"}})])]),t._v(" "),a("li",[a("p",[t._v("目录结构---两级目录结构")]),t._v(" "),a("p",[t._v("早期的多用户操作系统，采用两级目录结构。分为主文件目录(MFD)和用户文件目录(UFD)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522203520109.png",alt:"image-20220522203520109"}})])]),t._v(" "),a("li",[a("p",[t._v("目录结构---多级目录结构(又称树形目录结构)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522203842838.png",alt:"image-20220522203842838"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522204512602.png",alt:"image-20220522204512602"}})])]),t._v(" "),a("li",[a("p",[t._v("目录结构---无环图目录结构")]),t._v(" "),a("p",[t._v("解决的问题：树形目录结构可以很方便的对文件进行分类，层次结构清晰，也能够更有效地进行文件的管理和保护。但是，树形结构不便于实现文件的共享。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522213646590.png",alt:"image-20220522213646590"}})])]),t._v(" "),a("li",[a("p",[t._v("索引结点(FCB的改进)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522213950345.png",alt:"image-20220522213950345"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522214100918.png",alt:"image-20220522214100918"}})])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220522214148310.png",alt:"image-20220522214148310"}})]),t._v(" "),a("h2",{attrs:{id:"_4、文件的物理结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、文件的物理结构"}},[t._v("#")]),t._v(" 4、文件的物理结构")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("类似内存分页，磁盘中的存储单元也会被分为一个个“块/磁盘块/物理块”，"),a("strong",[t._v("磁盘块的大小与内存块、页面的大小相同")])])]),t._v(" "),a("li",[a("p",[t._v("内存与磁盘之间的数据交换(即读/写操作、磁盘I/O)都是以块为单位进行的，即每次读入一块，或每次写出一块")])]),t._v(" "),a("li",[a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524133535599.png",alt:"image-20220524133535599"}})])]),t._v(" "),a("li",[a("p",[t._v("文件分配方式----连续分配")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("连续分配方式要求每个文件在磁盘上占有一组连续的块")])]),t._v(" "),a("li",[a("p",[t._v("优点：支持顺序访问和直接访问(即随机访问)；连续分配的文件在顺序访问时速度最快")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524134337470.png",alt:"image-20220524134337470"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524134541056.png",alt:"image-20220524134541056"}})])]),t._v(" "),a("li",[a("p",[t._v("缺点：不方便文件拓展；存储空间利用率低，会产生磁盘碎片")]),t._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5CAIERXUAN%5CDesktop%5Cpicture%5Cimage-20220524135042854-16533715138903.png",alt:"image-20220524135042854"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220524142132631.png",alt:"image-20220524142132631"}})])])])]),t._v(" "),a("li",[a("p",[t._v("文件分配方式---链接分配")]),t._v(" "),a("p",[t._v("链接分配采取离散分配的方式，可以为文件分配离散的磁盘块。分为隐式链接和显式链接两种")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("隐式链接")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212115224.png",alt:"image-20220529212115224"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212212817.png",alt:"image-20220529212212817"}})]),t._v(" "),a("p",[t._v("隐式链接：除文件的最后一个盘块之外，每个盘块中都存有指向下一个盘块的指针。文件目录包括文件第一块的指针和最后一块指针")]),t._v(" "),a("p",[t._v("优点：方便文件拓展，不会有碎片问题，外存利用率高")]),t._v(" "),a("p",[t._v("缺点：只支持顺序访问，不支持随机访问，查找效率低，指向下一个盘块的指针也需要耗费少量的存储空间。")])]),t._v(" "),a("li",[a("p",[t._v("显示链接")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529212901703.png",alt:"image-20220529212901703"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529213416885.png",alt:"image-20220529213416885"}})]),t._v(" "),a("p",[t._v("显示链接---把用于链接文件各个物理块的指针显示的存放在一张表中，即文件分配表(FAT)。一个磁盘只会建立一张文件分配表，开机时文件分配表放入内存，并常驻内存。")]),t._v(" "),a("p",[t._v("优点：方便文件拓展，不会有碎片问题，外存利用率高，并且支持随机访问，相比于隐式链接来说，地址转换时不需要访问磁盘，因此文件的访问效率更高")]),t._v(" "),a("p",[t._v("缺点：文件分配表需要占用一定的内存")])]),t._v(" "),a("li",[a("p",[t._v("索引分配")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529214611813.png",alt:"image-20220529214611813"}})]),t._v(" "),a("p",[t._v("如何实现文件的逻辑块号到物理块号的转换？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529215048681.png",alt:"image-20220529215048681"}})]),t._v(" "),a("p",[t._v("若每个磁盘块1KB，一个索引表项4B，则一个磁盘块只能存放256个索引项，如果一个文件的大小超过了256块，那么一个磁盘块是装不下文件的整张索引表的，如何解决？")]),t._v(" "),a("p",[t._v("①链接方案")]),t._v(" "),a("p",[t._v("②多层索引")]),t._v(" "),a("p",[t._v("③混合索引")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("链接方案")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://picture2-1310712259.cos.ap-nanjing.myqcloud.com/img/image-20220529222421721.png",alt:"image-20220529222421721"}})])]),t._v(" "),a("li",[a("p",[t._v("多层索引")])])])])])])])])}),[],!1,null,null,null);i.default=g.exports}}]);